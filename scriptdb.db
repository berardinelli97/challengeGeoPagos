######### CREACION DE TABLAS #########
CREATE TABLE country (
    id INT AUTO_INCREMENT PRIMARY KEY,
    country VARCHAR(255) NOT NULL
);

CREATE TABLE players (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    birth_date DATE NOT NULL,
    gender VARCHAR(20) NOT NULL,
    ability INT NOT NULL,
    strength INT NOT NULL,
    speed INT NOT NULL,
    reaction INT NOT NULL,
    country_id INT,
    FOREIGN KEY (country_id) REFERENCES country(id)
);

CREATE TABLE tournament (
    id INT AUTO_INCREMENT PRIMARY KEY,
    gender VARCHAR(20) NOT NULL,
    quantityPlayers INT NOT NULL,
    winner INT, 
    dateStart DATE,
    players_id INT
);

CREATE TABLE playerForTournament (
    tournament_id INT,
    player_id INT,
    PRIMARY KEY (tournament_id, player_id)
);

ALTER TABLE tournament
ADD CONSTRAINT fk_tournament_playerForTournament
FOREIGN KEY (players_id) REFERENCES playerForTournament(tournament_id);

ALTER TABLE playerForTournament
ADD CONSTRAINT fk_playerForTournament_tournament
FOREIGN KEY (tournament_id) REFERENCES tournament(id),
ADD CONSTRAINT fk_playerForTournament_players
FOREIGN KEY (player_id) REFERENCES players(id);

CREATE TABLE matches (
    id INT AUTO_INCREMENT PRIMARY KEY,
    tournament_id INT,
    player1_id INT,
    player2_id INT,
    winner_id INT NULL,
    round INT NULL,
    FOREIGN KEY (tournament_id) REFERENCES tournament(id),
    FOREIGN KEY (player1_id) REFERENCES players(id),
    FOREIGN KEY (player2_id) REFERENCES players(id),
    FOREIGN KEY (winner_id) REFERENCES players(id)
);


######### INSERTS #########


INSERT INTO country (country) VALUES ('Suiza');
INSERT INTO country (country) VALUES ('Estados Unidos');
INSERT INTO country (country) VALUES ('España');
INSERT INTO country (country) VALUES ('Australia');
INSERT INTO country (country) VALUES ('Serbia');
INSERT INTO country (country) VALUES ('Rumania');
INSERT INTO country (country) VALUES ('Grecia');
INSERT INTO country (country) VALUES ('Japón');
INSERT INTO country (country) VALUES ('Alemania');
INSERT INTO country (country) VALUES ('Bielorrusia');
INSERT INTO country (country) VALUES ('Austria');
INSERT INTO country (country) VALUES ('Rusia');
INSERT INTO country (country) VALUES ('Argentina');
INSERT INTO country (country) VALUES ('Italia');
INSERT INTO country (country) VALUES ('Noruega');
INSERT INTO country (country) VALUES ('Polonia');
INSERT INTO country (country) VALUES ('Ucrania');
INSERT INTO country (country) VALUES ('República Checa');

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Roger Federer', '1981-08-08', 'Masculino', 95, 90, 85, 95, 1);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Serena Williams', '1981-09-26', 'Femenino', 92, 88, 90, 90, 2);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Rafael Nadal', '1986-06-03', 'Masculino', 94, 92, 82, 93, 3);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Ashleigh Barty', '1996-04-24', 'Femenino', 88, 85, 88, 89, 4);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Novak Djokovic', '1987-05-22', 'Masculino', 96, 88, 90, 95, 5);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Simona Halep', '1991-09-27', 'Femenino', 90, 82, 88, 91, 6);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Stefanos Tsitsipas', '1998-08-12', 'Masculino', 88, 90, 86, 90, 7);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Naomi Osaka', '1997-10-16', 'Femenino', 91, 85, 92, 88, 8);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Alexander Zverev', '1997-04-20', 'Masculino', 90, 88, 89, 89, 9);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Aryna Sabalenka', '1998-05-05', 'Femenino', 87, 90, 85, 88, 10);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Dominic Thiem', '1993-09-03', 'Masculino', 93, 88, 86, 92, 11);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Daniil Medvedev', '1996-02-11', 'Masculino', 92, 85, 91, 90, 12);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Diego Schwartzman', '1992-08-16', 'Masculino', 88, 80, 88, 91, 13);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Andrey Rublev', '1997-10-20', 'Masculino', 90, 87, 88, 90, 12);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Jannik Sinner', '2001-08-16', 'Masculino', 87, 85, 90, 89, 14);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Casper Ruud', '1998-12-22', 'Masculino', 86, 82, 87, 88, 15);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Hubert Hurkacz', '1997-02-11', 'Masculino', 85, 88, 85, 87, 16);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Iga Świątek', '2001-05-31', 'Femenino', 89, 85, 88, 90, 17);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Elina Svitolina', '1994-09-12', 'Femenino', 90, 85, 87, 91, 18);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Karolína Plíšková', '1992-03-21', 'Femenino', 91, 88, 86, 90, 18);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Sofia Kenin', '1998-11-14', 'Femenino', 88, 85, 88, 89, 2);

INSERT INTO players ( name, birth_date, gender, ability, strength, speed, reaction, country_id)
VALUES ('Victoria Azarenka', '1989-07-31', 'Femenino', 89, 87, 86, 88, 10);
